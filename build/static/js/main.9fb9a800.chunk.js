(this.webpackJsonpreact_meituan=this.webpackJsonpreact_meituan||[]).push([[0],{16:function(e,t,r){e.exports=r(27)},27:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),o=r(4),a=r.n(o),i=r(5),s=r(6),u=r(9),p=r(8),f=r(7),l=function(e){Object(u.a)(r,e);var t=Object(p.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"rendenr",value:function(){var e=this.props.error;return c.a.createElement("div",{className:"errorToast"},c.a.createElement("div",{className:"errorToast__text"},e))}},{key:"componentDidMount",value:function(){var e=this;this.clearTimer=setTimeout((function(){e.props.clearError()}),3e3)}},{key:"componentWillUnmount",value:function(){this.clearTimer&&clearTimeout(this.clearTimer)}}]),r}(n.Component),h=r(1),d="CLEAR_ERROR",v={error:""},y={clearError:function(){return{type:d}}},m=function(e){return e.app.error},O=r(2),T=function(e){Object(u.a)(r,e);var t=Object(p.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){var e=this.props,t=e.error,r=e.appActions.clearError;return c.a.createElement("div",null,t?c.a.createElement(l,{error:t,clearError:r}):null,c.a.createElement("div",null,"123"))}}]),r}(n.Component),j=Object(f.b)((function(e){return{error:m(e)}}),(function(e){return{appActions:Object(O.b)(y,e)}}))(T),b={id:"id",name:"products"},E={comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.response&&t.response[b.name]?Object(h.a)(Object(h.a)({},e),t.response[b.name]):e},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},shops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}},g=r(3),_=new Headers({Accept:"application/json","Content-Type":"application/json"});function w(e,t){return 200===e.status?e.data.json():(console.error("request fail: status: ".concat(e.status," url: ").concat(t," Due to server")),Promise.reject({error:{message:"request fail: status: ".concat(e.status," url: ").concat(t," Due to server")}}))}var A,F=function(e){return function(e){return function(t){var r=function(e){var r=Object(h.a)(Object(h.a)({},t),e);return delete r.FETCH_DATA,r};if(void 0===t.FETCH_DATA)return e(t);var n,c=t.FETCH_DATA,o=c.types,a=c.endPoint,i=c.schame;if("object"!==typeof o||"string"!==typeof o.fetchRequestType||"string"!==typeof o.fetchSuccessType||"string"!==typeof o.fetchFailureType)throw new Error("types \u8981\u662f\u4e00\u4e2a\u5bf9\u8c61\u4e14\u8981\u6709 fetchRequestType\uff0cfetchSuccessType\uff0cfetchFailureType \u5b57\u6bb5");if(void 0===a||"string"!==typeof a)throw new Error("url \u4e00\u5b9a\u8981\u6709\u4e14\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32");if("object"!==typeof i||void 0===i.id||void 0===i.name)throw new Error("schame \u8981\u662f\u4e00\u4e2a\u5bf9\u8c61\u4e14\u8981\u6709 id \u548c name \u4e24\u4e2a\u5b57\u6bb5");if("string"!==typeof i.id)throw new Error("id \u4e00\u5b9a\u8981\u6709\u4e14\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32");if("string"!==typeof i.name)throw new Error("name \u4e00\u5b9a\u8981\u6709\u4e14\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32");return e(r({type:o.fetchRequestType})),(n=a,void fetch(n,{method:"GET",headers:_}).then((function(e){w(e,n)})).catch((function(e){return console.error("request fail: url: ".concat(n," Message: ").concat(e)),Promise.reject({error:{message:"request fail: url: ".concat(n," Message: ").concat(e)}})}))).then((function(t){var n=R(t,i.name,i.id);e(r({type:o.fetchSuccessType,response:n}))})).catch((function(t){e(r({type:o.fetchFailureType,error:t.message||"\u83b7\u53d6\u4fe1\u606f\u9519\u8bef"}))}))}}},R=function(e,t,r){var n,c={},o=[];return Array.isArray(e)?e.forEach((function(e){c[e[r]]=e,o.push(e[r])})):(c[e[r]]=e,o.push(e[r])),n={},Object(g.a)(n,t,c),Object(g.a)(n,"ids",o),n},S={isFetching:!1,productsLike:{},error:""},D={fetchRequestType:"fetchRequestType",fetchSuccessType:"fetchSuccessType",fetchFailureType:"fetchFailureType"},k=(Object(g.a)({},"FETCH_DATA",{endPoint:"/mock/productsLike.json",types:D,schame:b}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),q=Object(O.c)({entities:E,homeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.fetchRequestType:return Object(h.a)(Object(h.a)({},e),{},{isFetching:!0});case D.fetchSuccessType:return Object(h.a)(Object(h.a)({},e),{},{productsLike:t.data,isFetching:!1});case D.fetchFailureType:return Object(h.a)(Object(h.a)({},e),{},{error:t.error,isFetching:!1});default:return e}},detail:k,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;if(null!=t.error)return Object(h.a)(Object(h.a)({},e),{},{error:t.error});switch(t.type){case d:return Object(h.a)(Object(h.a)({},e),{},{error:void 0});default:return e}}}),C=r(15);A="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:O.d;var L=Object(O.e)(q,A(Object(O.a)(C.a,F)));a.a.render(c.a.createElement(f.a,{store:L},c.a.createElement(j,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.9fb9a800.chunk.js.map